<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Smart Calendar - Daily Planner</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
</head>
<body>
    <div class="container">
        <!-- Sidebar / Hamburger Menu -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h2>Daily Planner</h2>
                <button class="close-menu" id="closeMenu">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="menu-items">
                <button class="menu-btn active" data-view="calendar">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Calendar</span>
                </button>
                <button class="menu-btn" data-view="report">
                    <i class="fas fa-chart-bar"></i>
                    <span>Report Card</span>
                </button>
                <button class="menu-btn" data-view="add-event">
                    <i class="fas fa-calendar-plus"></i>
                    <span>Add Event</span>
                </button>
                <button class="menu-btn" data-view="add-task">
                    <i class="fas fa-tasks"></i>
                    <span>Manage Tasks</span>
                </button>
                <button class="menu-btn" data-view="settings">
                    <i class="fas fa-cog"></i>
                    <span>Settings</span>
                </button>
            </div>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <header class="header">
                <button class="hamburger" id="hamburger">
                    <i class="fas fa-bars"></i>
                </button>
                <div class="header-title">
                    <h1 id="currentMonthHeader">March 2024</h1>
                </div>
                <div class="header-controls">
                    <button class="date-nav-btn" id="todayBtn" title="Go to today">
                        <i class="fas fa-home"></i>
                    </button>
                </div>
            </header>
            
            <!-- Calendar Section with Swipe Area -->
            <div class="calendar-section" id="calendarSwipeArea">
                <!-- Calendar Header with Days -->
                <div class="calendar-header">
                    <div class="week-days">
                        <div class="day">M</div>
                        <div class="day">T</div>
                        <div class="day">W</div>
                        <div class="day">T</div>
                        <div class="day">F</div>
                        <div class="day">S</div>
                        <div class="day">S</div>
                    </div>
                </div>
                
                <!-- Calendar Grid -->
                <div class="calendar-grid" id="calendarGrid">
                    <!-- Calendar days will be generated by JavaScript -->
                </div>
            </div>
            
            <!-- Swipe Indicator for Events -->
            <div class="swipe-indicator-container" id="eventsSwipeArea">
                <div class="swipe-indicator">
                    <div class="dot active"></div>
                    <div class="dot"></div>
                    <div class="dot"></div>
                </div>
                <div class="swipe-hint">Swipe up to view all events</div>
            </div>
            
            <!-- Events Section (Hidden by default) -->
            <div class="events-section" id="eventsSection">
                <div class="events-container">
                    <div class="events-header">
                        <h3><i class="fas fa-calendar-day"></i> All Events</h3>
                        <button class="close-events" id="closeEvents">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div class="events-date" id="eventsDate">March 2024</div>
                    
                    <div class="events-list" id="eventsList">
                        <!-- Events will be loaded here -->
                    </div>
                </div>
            </div>
            
            <!-- Task Checklist Modal for Today -->
            <div class="task-modal" id="taskModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3><i class="fas fa-tasks"></i> Today's Tasks</h3>
                        <button class="close-modal" id="closeTaskModal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="task-date" id="taskDate">March 18, 2024</div>
                        <div class="task-list" id="taskList">
                            <!-- Tasks will be loaded here -->
                        </div>
                        <div class="modal-footer">
                            <button class="save-tasks-btn" id="saveTasksBtn">
                                <i class="fas fa-save"></i> Save Tasks
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Add Event Modal -->
            <div class="add-event-modal" id="addEventModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3><i class="fas fa-calendar-plus"></i> Add New Event</h3>
                        <button class="close-modal" id="closeEventModal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="eventTitle"><i class="fas fa-heading"></i> Event Title</label>
                            <input type="text" id="eventTitle" placeholder="Enter event title">
                        </div>
                        <div class="form-group">
                            <label for="eventDate"><i class="fas fa-calendar-day"></i> Date</label>
                            <input type="date" id="eventDate">
                        </div>
                        <div class="form-group">
                            <label for="eventType"><i class="fas fa-tag"></i> Event Type</label>
                            <select id="eventType">
                                <option value="GH">Global Holiday (GH)</option>
                                <option value="RH">Regional Holiday (RH)</option>
                                <option value="ME">Meeting (ME)</option>
                                <option value="BR">Birthday (BR)</option>
                                <option value="OT">Other (OT)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="eventTime"><i class="fas fa-clock"></i> Time (Optional)</label>
                            <input type="text" id="eventTime" placeholder="e.g., 10:00 AM or All Day">
                        </div>
                        <button class="save-btn" id="saveEventBtn">
                            <i class="fas fa-save"></i> Save Event
                        </button>
                    </div>
                </div>
            </div>
            
            <!-- Manage Tasks Modal -->
            <div class="manage-tasks-modal" id="manageTasksModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3><i class="fas fa-tasks"></i> Manage Daily Tasks</h3>
                        <button class="close-modal" id="closeManageTasksModal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="tasks-info">
                            <p><i class="fas fa-info-circle"></i> These tasks will appear every day in your checklist.</p>
                        </div>
                        
                        <div class="current-tasks">
                            <h4>Current Daily Tasks</h4>
                            <div class="tasks-list" id="dailyTasksList">
                                <!-- Daily tasks will be loaded here -->
                            </div>
                        </div>
                        
                        <div class="add-task-form">
                            <h4>Add New Task</h4>
                            <div class="form-row">
                                <input type="text" id="newDailyTask" placeholder="Enter task title">
                                <button id="addDailyTaskBtn"><i class="fas fa-plus"></i> Add</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Report Card View -->
            <div class="report-card-view" id="reportCardView">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3><i class="fas fa-chart-bar"></i> Daily Report Card</h3>
                        <button class="close-modal" id="closeReportView">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="report-filters">
                            <select id="reportMonth">
                                <!-- Months will be populated by JavaScript -->
                            </select>
                        </div>
                        <div class="report-cards" id="reportCards">
                            <!-- Report cards will be generated here -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Task Details Modal -->
            <div class="task-details-modal" id="taskDetailsModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3><i class="fas fa-tasks"></i> Task Details</h3>
                        <button class="close-modal" id="closeTaskDetailsModal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="details-date" id="detailsDate"></div>
                        <div class="details-task-list" id="detailsTaskList">
                            <!-- Task details will be loaded here -->
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Settings View -->
            <div class="settings-view" id="settingsView">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3><i class="fas fa-cog"></i> Settings</h3>
                        <button class="close-modal" id="closeSettingsView">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <div class="settings-section">
                            <h4><i class="fas fa-cloud"></i> Cloud Sync</h4>
                            <div class="setting-item">
                                <p>Sync your tasks data with GitHub Gist for backup and access across devices.</p>
                                <div class="input-group">
                                    <input type="password" id="githubToken" placeholder="GitHub Personal Token">
                                    <button class="info-btn" title="How to get token?">
                                        <i class="fas fa-question-circle"></i>
                                    </button>
                                </div>
                                <div class="input-group">
                                    <input type="text" id="gistId" placeholder="Gist ID (Leave empty to create new)">
                                    <button class="info-btn" title="Existing Gist ID">
                                        <i class="fas fa-question-circle"></i>
                                    </button>
                                </div>
                                <div class="button-group">
                                    <button id="syncToGist" class="action-btn primary">
                                        <i class="fab fa-github"></i> Sync Tasks to Gist
                                    </button>
                                    <button id="importFromGist" class="action-btn secondary">
                                        <i class="fas fa-download"></i> Import Tasks from Gist
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h4><i class="fas fa-database"></i> Data Management</h4>
                            <div class="button-group">
                                <button id="exportData" class="action-btn secondary">
                                    <i class="fas fa-download"></i> Export Backup
                                </button>
                                <button id="importData" class="action-btn secondary">
                                    <i class="fas fa-upload"></i> Import Backup
                                </button>
                            </div>
                        </div>
                        
                        <div class="settings-section">
                            <h4><i class="fas fa-shield-alt"></i> Danger Zone</h4>
                            <div class="danger-zone">
                                <p>This will delete all your local data including events, tasks, and reports.</p>
                                <button id="clearData" class="action-btn danger">
                                    <i class="fas fa-trash"></i> Clear All Data
                                </button>
                            </div>
                        </div>
                        
                        <div class="sync-status" id="syncStatus">
                            <div class="status-content">
                                <i class="fas fa-info-circle"></i>
                                <span id="statusText">Not connected to GitHub</span>
                            </div>
                            <div class="last-sync" id="lastSync"></div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Info Modal for GitHub Token -->
            <div class="info-modal" id="githubInfoModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h3><i class="fab fa-github"></i> GitHub Personal Token</h3>
                        <button class="close-modal" id="closeInfoModal">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p><strong>How to create a GitHub Personal Token:</strong></p>
                        <ol>
                            <li>Go to GitHub → Settings → Developer settings</li>
                            <li>Click "Personal access tokens" → "Tokens (classic)"</li>
                            <li>Click "Generate new token"</li>
                            <li>Select "gist" scope only</li>
                            <li>Copy the generated token and paste it above</li>
                        </ol>
                        <p><strong>Note:</strong> The token only needs "gist" permission.</p>
                    </div>
                </div>
            </div>
            
            <!-- Overlay for modals -->
            <div class="modal-overlay" id="modalOverlay"></div>
        </div>
    </div>
    
    <!-- Overlay for sidebar -->
    <div class="overlay" id="overlay"></div>
    
    <!-- Hidden file input for import -->
    <input type="file" id="fileImport" accept=".json" style="display: none;">
    
    <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
<script src="events-data.js"></script>
<script src="script.js"></script>
</body>
</html>
